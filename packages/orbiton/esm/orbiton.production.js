function t(t,e){const{attributes:n={},events:r={},children:o=[]}=e;return{tag:t,attributes:n,events:r,children:o,type:"element"}}const e=(e,n={},r={})=>{if("function"==typeof e){if(e.isClassComponent){return new e(n,r)}if(e.isFragment){return new e(n.children)}return e(n)}if("string"==typeof e){return t(e,n)}return e};function n(t,e=null){return null==e?(e=Math.floor(1e8*Math.random()),Symbol(`${t}_random_generated_key_${e}`)):Symbol(`${t}_provided_key_${e}`)}function r(t){"_orbiton$config"in t&&t._orbiton$config.isComponentRoot&&t._orbiton$config.componentHosted.forEach(((t,e)=>{"Component"===t.type&&t.Mounted()})),t.childNodes.forEach(((t,e)=>{r(t)}))}const o=/[A-Z]/;function i(t,e,n){const r=t.slice(0,e);let o=t.slice(e);return o=o.toLowerCase(),`${r}${n}${o}`}function s(t){let e=t;const n=e.match(o)||[];if(n.length)for(let r=0;r<n.length;r++){const o=n[r];0!==t.indexOf(o)&&(e=i(e,t.indexOf(o),"-"))}return e}function c(t,e,n){const r=t.slice(0,e);let o=t.slice(e);return o=o.toLowerCase(),`${r}${n}${o}`}function a(t){return"object"==typeof t?function(t){let e="";if(Array.isArray(t))throw new Error("Style prop only accepts as string os an object arrays ar not accepted");for(const[n,r]of Object.entries(t)){const t=n.match(o);if(null!==t){if(1===t.length){const o=t[0],i=n.indexOf(o);e=`${e}${c(n,i,"-")}: ${r};`}}else e=`${e}${n}: ${r};`}return e}(t):t}function l(t,e="http://www.w3.org/1999/xhtml",n=[]){const r=n.length>0?n[n.length-1].getPearlId():null,o=n[0];let i,c;if("svg"===t.tag?(i=document.createElementNS("http://www.w3.org/2000/svg","svg"),c="http://www.w3.org/2000/svg"):(i=document.createElementNS(e,t.tag),c="http://www.w3.org/1999/xhtml"),i._orbiton$config={},i._orbiton$config.componentHosted=[],i._orbiton$config.isComponentRoot=n.length>0,i._orbiton$config.compomentRootId=r,o&&i._orbiton$config.componentHosted.push(o),t.attachedComponent&&i._orbiton$config.componentHosted.push(t.attachedComponent),function(t,e={}){for(const[n,r]of Object.entries(e))"style"===n?t.setAttribute(n,a(r)):"classname"===n.toLowerCase()?t.setAttribute("class",r):t.setAttribute(s(n),r)}(i,t.attributes),function(t,e){t._orbiton$config.extendEvents=e;for(const[n,r]of Object.entries(e))t.addEventListener(n,r)}(i,t.events),t.children)for(const e of t.children)if("string"==typeof e){f(i,document.createTextNode(e))}else if(Array.isArray(e))for(const t of e){f(i,u(t,c))}else{const t=u(e,c);null!=t&&f(i,t)}return t.domRef=i,i}const u=(t,e="http://www.w3.org/1999/xhtml",n=[])=>{if("string"==typeof t||"boolean"==typeof t||"number"==typeof t)return document.createTextNode(`${t}`);if("element"===t.type)return l(t,e,n);if("Component"===t.type){const r=t.makeChild();return function(t){if(null==t)return!0;return!1}(r)?null:void 0===r.tag?u(r):(t.WillMount(),n.push(t),u(r,e,n))}return"Fragment"===t.type?function(t){const e=[];for(const n of t.children){if("string"!=typeof n&&"Fragment"===n.type)throw new Error("A Fragment cannot be a direct child to another Fragment. Consider changing your source code.");const r=u(n);r._orbiton$config.renderedByFrag=!0,r._orbiton$config.HostFragID=t.FragmentID,e.push(r)}return e}(t):void 0};function f(t,e){if(Array.isArray(e))for(const n of e)t.appendChild(n);else t.appendChild(e)}function h(t,e){const n=e;return n.state=t.state,n}function p(t,e){if(void 0===e)return e;if(t.type!==e.type)return e;if("element"===t.type&&"element"===e.type)return d(t,e);if("Component"===t.type&&"Component"===e.type){const n=h(t,e);return n.currentTree=p(t.currentTree,n.render()),n}if("Fragment"===t.type&&"Fragment"===e.type){const n=g(t.children,e.children);return e.children=n,e}}function d(t,e){const n=e;return t.attachedComponent!==e.attachedComponent||t.tag!==e.tag?e:(n.children=g(t.children,e.children),n)}function g(t,e){const n=[];t.forEach(((t,r)=>{const o=e[r];var i,s;n.push((i=t,void 0===(s=o)||void 0===i||"string"==typeof i||"string"==typeof s||i.type!==s.type?s:"element"===i.type&&"element"===s.type?d(i,s):"Component"===i.type&&"Component"===s.type?h(i,s):s))}));for(const r of e.slice(t.length))n.push(r);return n}function m(t,e,n){const o=n.childNodes;let i=0;for(let s=0;s<t.length;s++){const c=t[s],a=e[s];if(Array.isArray(c)||Array.isArray(a)){if(Array.isArray(a))if(Array.isArray(c)){c.forEach(((t,e)=>{const r=o[i];y(t,a[e],n,r),i++}));const t=[];for(const e of a.slice(c.length)){const n=u(e);t.push(n)}let e=o[i];if(void 0!==e){for(const r of t)n.insertBefore(r,e),i++,e=o[i];r(n)}else n.append(...t),r(n)}else{const t=o[i],e=[];a.forEach(((t,n)=>{e.push(u(t)),0!==n&&i++})),t.replaceWith(...e),r(t)}}else{const t=o[i];y(c,a,n,t),i++}}const s=[];for(const n of e.slice(t.length)){const t=u(n);s.push(t)}s.length>0&&n.append(...s)}function y(t,e,n,r){"string"!=typeof t&&"Fragment"===t.type?b(t,e,n):b(t,e,r)}function b(t,e,n){if(Array.isArray(n));else{if(void 0===e)return n.remove(),n;if("string"==typeof t||"string"==typeof e){if(n.nodeValue!==e){const t=u(e);return n.replaceWith(t),r(t),t}return n}if(t.type!==e.type){const t=u(e);return n.replaceWith(t),r(t),t}if("element"===t.type&&"element"===e.type)return function(t,e,n){if(t.tag!==e.tag){const t=u(e);return n.replaceWith(t),r(t),t}return function(t,e,n){for(const[r,o]of Object.entries(e))"style"===r?t[r]!==o&&n.setAttribute(r,a(o)):"classname"===r.toLowerCase()?t[r]!==o&&n.setAttribute("class",o):t[r]!==o&&n.setAttribute(s(r),o);for(const r in t)r in e||("className"===r.toLowerCase()?n.removeAttribute("class"):n.removeAttribute(s(r)))}(t.attributes,e.attributes,n),m(t.children,e.children,n),n}(t,e,n);if("Component"===t.type&&"Component"===e.type)return function(t,e,n){const{node:o}=function(t){if(Array.isArray(t))return{isFragmentParent:!0,node:t[0].parentNode};return{isFragmentParent:!1,node:t}}(n);if(t.pearlId!==e.pearlId){const t=u(e);return o.replaceWith(t),r(t),t}b(t.makeChild(),e.makeChild(),o)}(t,e,n);if("Fragment"===t.type&&"Fragment"===e.type)return m(t.children,e.children,n),n}}function C(t,e,n){const r=p(t,e);return b(t,r,n),r}function w(t,e){return"element"===e.type?function(t){let e=null;return document.querySelectorAll("*").forEach((n=>{n._orbiton$config&&n._orbiton$config.compomentRootId===t&&(e=n)})),e}(t):"Component"===e.type?w(e.pearlId,e.currentTree):"Fragment"===e.type?(console.log(e.type),function(t){let e;const n=document.querySelectorAll("*");for(const r of n)if(r._orbiton$config&&r._orbiton$config.renderedByFrag&&r._orbiton$config.HostFragID===t){e=r.parentNode;break}return Array.from(e.childNodes)}(e.FragmentID)):void 0}const $={withComponent:(t,n,r)=>{const{attributes:o={},events:i={},children:s=[],props:c={}}=r;return{tag:t,attributes:o,events:i,children:s,type:"element",attachedComponent:e(n,c),props:c}},render:u,createElement:t,append:function(t,e,n){try{return function(t,e){const n=u(e);t.appendChild(n),r(t)}(e,t),n&&n(),!0}catch(t){return{result:!1,error:t}}},Component:class extends class{constructor(t={},e={}){this.state={},this.props=t,this.context=e}changeState(t,e=null){if("Object"!==t.constructor.name)throw Error("updateState(...) method takes in an object");const n=Object.getOwnPropertyNames(t),r=Object.getOwnPropertyNames(this.state);for(const e of n){if(!r.includes(e))throw Error("The value `"+e+"` is not in the state object");this.state[e]=t[e]}null!==e&&e.call(this,t)}}{static isClassComponent=!0;constructor(t={},e={}){super(t,e),t!=={}&&(this.key=t&&t.key?t.key:null),this.type="Component",this.pearlId=n(this.constructor.name,this.key),this.makeChild=this.makeChild.bind(this),this.Mounted=this.Mounted.bind(this),this.WillMount=this.WillMount.bind(this),this.getPearlId=this.getPearlId.bind(this),this.updateState=this.updateState.bind(this),this.changeState=this.changeState.bind(this)}getPearlId(){return this.pearlId}Mounted(){}WillMount(){}updateState(t,e=null){const n=w(this.getPearlId(),this.currentTree);this.changeState(t,e),C(this.currentTree,this.render(),n),this.currentTree=this.render()}makeChild(){return this.currentTree=this.render(),this.currentTree}render(){return{tag:"div"}}},createComponent:e,Fragment:class{static isFragment=!0;constructor(t){const e=Math.floor(1e8*Math.random());this.FragmentID=n("Fragment_Type",`by_fragment_${e}`),this.children=t,this.type="Fragment",this.getPearlId=this.getPearlId.bind(this)}getPearlId(){return this.FragmentID}},version:"1.2.4"};
/**
* A Javascript library for building Browser User Interfaces
* @author Beigana Jim Junior <jimjunior854@outlook.com>
* @copyright Beigana Jim Junior Â© 2021 - present
* @license MIT
*
* Learn more at the official Documentation: {@link https://orbiton.js.org}
*/export{$ as default};
